
{% extends 'rest_base.html' %}
{% load static %}
{% block content %}
<div class="container-fluid w-75 rounded-3 p-0" style="background-color: white;">
    <table class="table table-striped rounded-3">
        <thead class="rounded-3">
        <tr class="rounded-3 bg-color">
            <th scope="col-sm-1 p-5">#</th>
            <th scope="col-sm-2">Order Date</th>
            <th scope="col-sm-6 text-wrap">Feedback</th>
            <th scope="col-sm-2">Rating</th>
            <th scope="col-sm-1">Details</th>
        </tr>
        </thead>
        <tbody class="rounded-3 text-color">
        {% for feedback in feedbacks %}
        <tr>
            <th scope="row">{{forloop.counter}}</th>
            <td>{{feedback.Order_Id.Timestamp}}</td>
            <td>{{feedback.Description}}</td>
            <td>{{feedback.Rating}}</td>
            <td>
                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"
            aria-expanded="false">View Details</button>
          <div class="dropdown-menu">
            
            <table class="table rounded-3">
              <thead class="rounded-3">
                <tr class="rounded-3  text-color">
                  <th scope="col-sm-1 ">Items Ordered</th>
                </tr>
              </thead>
              <tbody class="rounded-3 text-color">
                {% for item in feedback.Order_Id.order_items_set.all %}
                <tr>
                  <td>{{item.Food_ID.Food_Name}}
                    
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            
          </div></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}